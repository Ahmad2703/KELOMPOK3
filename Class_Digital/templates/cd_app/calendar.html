{% extends "cd_app/main.html" %}
{% load static %}

{% block body_block %}

<div class="container-fluid mt-5">
    <div class="calendar-container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <a href="?month={{ month|add:'-1' }}&year={{ year }}" class="btn btn-outline-primary">&lt;</a>
            <h4 id="currentMonth" class="text-center m-0">
                {{ month_name }} {{ year }}
            </h4>
            <a href="?month={{ month|add:'1' }}&year={{ year }}" class="btn btn-outline-primary">&gt;</a>
        </div>
        <table class="table table-bordered text-center">
            <thead class="table-light">
                <tr>
                    <th>Sun</th>
                    <th>Mon</th>
                    <th>Tue</th>
                    <th>Wed</th>
                    <th>Thu</th>
                    <th>Fri</th>
                    <th>Sat</th>
                </tr>
            </thead>
            <tbody id="calendarBody">
                {% for week in calendar_data %}
                <tr>
                    {% for day in week %}
                    <td 
                        {% if day == today and month == current_month and year == current_year %}
                        class="bg-primary text-white"
                        {% endif %}
                    >
                        {% if day %}{{ day }}{% endif %}
                    </td>
                    {% endfor %}
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}